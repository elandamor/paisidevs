"use strict";function _classCallCheck(n,t){if(!(n instanceof t))throw new TypeError("Cannot call a class as a function")}var _createClass=function(){function n(n,t){for(var e=0;e<t.length;e++){var r=t[e];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(n,r.key,r)}}return function(t,e,r){return e&&n(t.prototype,e),r&&n(t,r),t}}(),Fetch=function(){function n(t,e){_classCallCheck(this,n),this.url=t,this.opts=e}return _createClass(n,[{key:"xhr",value:function(){var n=this;return new Promise(function(t,e){var r=new XMLHttpRequest;r.open(""+n.opts.method,n.url,!0),r.setRequestHeader("Content-Type","application/json; charset=UTF-8"),r.onload=function(n){200==r.status?t(r.response):e(Error(r.statusText))},r.onerror=function(n){e(Error("Network Error"))},r.send(""+n.opts.body)})}},{key:"api",value:function(){var n=this;return new Promise(function(t,e){Modernizr.fetch?fetch(n.url).then(function(n){return n.json()}).then(function(n){t(n)})["catch"](function(n){e(Error("Fetch failed..."))}):n.xhr().then(function(n){return JSON.parse(n)}).then(function(n){t(n)})["catch"](function(n){e(Error("Fetch failed..."))})})}},{key:"data",value:function(){var n=this;return new Promise(function(t,e){n.api().then(function(n){t(n)})["catch"](function(n){e(Error("Request for data failed..."))})})}}]),n}();